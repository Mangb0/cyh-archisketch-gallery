# cyh-archisketch-gallery

아키스케치 프론트엔드 과제

갤러리 페이지 클론 코딩

---

## 기능

### 데이터 파싱 및 렌더링

- **데이터 파싱**: `fetch API`를 사용하여 이미지 데이터를 비동기적으로 가져옵니다. 가져온 데이터는 React의 `useState`를 이용하여 `images` 상태 변수에 저장됩니다.
- **동적 이미지 렌더링**: `images` 배열을 map 함수로 순회하며, 각 이미지에 대한 정보를 바탕으로 그리드 아이템을 동적으로 생성합니다. 각 아이템에 포함되어 있는 CDN 주소를 사용하여 이미지가 렌더링됩니다.
- **이미지 목록 표시**: 화면의 좌측 상단에는 `images` 배열의 길이를 표시하여, 총 몇 개의 이미지가 있는지 사용자에게 알려줍니다.

### 이미지 선택 기능

- **선택 모드 활성화**: 사용자가 이미지 위에 위치한 체크박스를 클릭함으로써 선택 모드가 활성화됩니다. 이를 통해 다운로드, 삭제와 같은 행동을 취할 수 있는 UI를 렌더링합니다.
- **다중 선택지원**: 선택한 이미지는 `images`의 `isSelected` 속성을 통해 관리되며, 이 속성을 통해 다른 기능들과 연동됩니다.
- **모두 선택지원**: `every`의 함수를 사용하여 선택이 되지 않은 이미지가 있다면 전체 선택을 하고 전체 선택이 되었을 때 전부 선택 해제됩니다.
- **선택 해제**: 모든 이미지의 선택을 해제되면 UI는 초기 상태로 돌아가며 선택 관련된 행동을 지원하는 UI를 숨깁니다.

### 이미지 다운로드

- **blob데이터 변환**: `fetch API`를 통하여 이미지의 CDN 주소를 사용하여 이미지 데이터를 가져오고 `blob` 형태로 변환합니다.
- **단일 이미지 다운로드**: `file-saver` 라이브러리의 `saveAs` 함수를 사용하여 저장합니다.
- 받아온 데이터를 blob 형태로 변환한 후, file-saver 라이브러리의 saveAs 함수를 사용하여 사용자의 기기에 이미지를 다운로드합니다.
- **다중 이미지 다운로드**: `jszip` 라이브러리를 사용하여 모든 선택된 이미지를 ZIP 파일로 압축하여 다운로드합니다. ZIP파일도 마찬가지로 `saveAs` 함수를 통해 다운로드합니다.
- **오류 처리**: 이미지 데이터를 가져오는 과정에서 오류가 발생할 경우, 해당 이미지는 다운로드 되지 않고 오류창이 발생됩니다.

### 이미지 삭제

- **삭제 확인**: 이미지를 삭제하기 전, 삭제를 확인하는 팝업이 표시됩니다.
- **선택된 이미지 삭제**: `filter` 함수를 사용하여 `isSelected` 또는 index를 통하여 데이터를 제거한 후 `images`를 업데이트 합니다.

### 이미지 클릭 및 상세 페이지

- **상세 페이지 활성화**: 사용자가 이미지를 클릭하면, 상세 페이지가 `React.createPortal`을 사용해 활성화됩니다. 이 때, `currentIndex` 상태를 업데이트하여 현재 선택된 이미지의 인덱스와 CDN 주소를 저장합니다.
- **네비게이션 제공**: 이전/다음 버튼을 통해 상세 페이지의 이미지를 이전/다음 이미지로 넘어갈 수 있습니다. `currentIndex`를 사용하여 이전/다음 이미지로 이동할 수 있게 합니다.
- **상세 페이지 종료**: Modal 창으로 구현하였기 때문에 상세 페이지를 닫고 다시 갤러리 페이지로 돌아갈 수 있습니다.

## 개발환경 실행

의존성 설치

```
npm install
```

실행

```
npm run dev
```
